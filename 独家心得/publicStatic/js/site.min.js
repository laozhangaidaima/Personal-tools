(function(n){n.extend(n.fn.bootstrapSwitch.defaults,{size:"mini",onColor:"primary",animate:!1});n.extend(n.fn.dataTable.defaults,{searching:!0,lengthChange:!1,lengthMenu:[10,15,25,50],info:!0,ordering:!0,autoWidth:!1,processing:!0,paging:!0,pageLength:15,pagingType:"full_numbers",dom:'rt<"row"<"col-xs-4"i><"col-xs-8 pull-right"p>>',language:{search:"",searchPlaceholder:"查找",lengthMenu:"每页 _MENU_ 条",infoFiltered:"",paginate:{first:"首页",last:"末页",next:">",previous:"<"},info:"第 _PAGE_  / _PAGES_ 页, 总 _TOTAL_ 条记录",infoEmpty:"没有数据",emptyTable:"当前没有可用数据",processing:"正在请求数据...",zeroRecords:"未找到匹配结果"}});n.extend({tide:{}});n.extend(n.tide,{openSidebar:function(t){var r,i,u;t.mask&&(r=n('<div class="mask"><\/div>').on("click",n.tide.closeSidebar),n("body").append(r),r.fadeIn());i=n("#sidebar");i.css("right","0px");i.css("z-index","2000");t.width>0&&i.css("width",t.width+"px");t.title&&i.find('[_id="title"]').text(t.title);u=i.find('[_id="body"]').empty().append(t.body).slimScroll({height:n("body").height()-50+"px"});i.find('[_id="cancel"]').unbind("click").click(function(){n.tide.closeSidebar()})},closeSidebar:function(){var t=n("#sidebar");t.css("width","400px").css("right",-400);n(".mask").fadeOut().remove()},openModal:function(t){var i=n("#modal"),r;i.css("z-index","3000");r=i.find(".modal-dialog").removeClass().addClass("modal-dialog");t.width?r.css("width",t.width+"px"):t.size=="big"?r.addClass("modal-lg"):r.addClass("modal-sm");t.title&&i.find('[_id="title"]').text(t.title);i.find('[_id="modal_body"]').empty().append(t.body);i.find('[_id="submit"]').unbind("click").click(function(){i.modal("hide");t.submit()});i.find('[_id="cancel"]').unbind("click").click(function(){n.tide.closeModal()});i.modal("show")},closeModal:function(){var t=n("#modal");t.modal("hide")},openLoading:function(t){var i=n("#loading").modal({backdrop:"static",keyboard:!1}),r;i.css("z-index","3000");r=i.find(".modal-dialog").removeClass().addClass("modal-dialog");t.width?r.css("width",t.width+"px"):t.size=="big"?r.addClass("modal-lg"):r.addClass("modal-sm");t.title&&i.find('[_id="title"]').text(t.title);i.find('[_id="modal_body"]').empty().append(t.body);i.modal("show")},closeLoading:function(){var t=n("#loading");t.modal("hide")},initGaugeChart:function(n,t,i){var r=echarts.init(n);r.setOption({title:{text:t,y:"bottom",x:"center",textStyle:{fontWeight:"normal",fontSize:13}},tooltip:{trigger:"item",formatter:"{a} <br/>{c}%"},series:[{name:t,type:"gauge",splitNumber:5,radius:"90%",axisLine:{lineStyle:{width:10}},axisTick:{length:15,lineStyle:{color:"auto"}},splitLine:{length:20,lineStyle:{color:"auto"}},title:{textStyle:{fontWeight:"bolder",fontSize:12,fontStyle:"italic"}},detail:{show:!1},data:[i]}]})},notifySuccess:function(t){n.notify({message:t},{type:"success",placement:{from:"top",align:"center"}})},notifyError:function(t){n.notify({message:t},{type:"danger",placement:{from:"top",align:"center"}})},notifyInfo:function(t){n.notify({message:t},{type:"info",placement:{from:"bottom",align:"rigth"}})},notifyWarning:function(t){n.notify({message:t},{type:"warning",placement:{from:"bottom",align:"rigth"}})},post:function(t,i,r,u){n.post(t,i,function(t,i){var f="";if("success"==i){if(t=JSON.parse(t),t&&t.code==100){typeof r=="function"?(f=r(t.content),typeof f=="string"&&n.tide.notifySuccess(f)):typeof r=="string"&&n.tide.notifySuccess(r);return}f=t.msg}typeof u=="function"?(f=u(t.code,f),typeof f=="string"&&n.tide.notifyError(f)):typeof u=="string"?n.tide.notifyError(u+f):n.tide.notifyError(f)})},back:function(){window.history.back()},getQueryString:function(n){var i=new RegExp("(^|&)"+n+"=([^&]*)(&|$)","i"),t=window.location.search.substr(1).match(i);return t!=null?unescape(t[2]):null},getUrlId:function(){var n=window.location.href,t=n.lastIndexOf("/"),i;return t>0?(i=n.lastIndexOf("?"),i>0?n.substr(t+1,i-t-1):n.substr(t+1)):""},toChartDatas:function(n){for(var r,t,u=[],i=0;i<n.records.length;i++)r=n.records[i],t=[],_.each(r.datas,function(i,r){var u=new Date((n.start+r*n.interval)*1e3);i<0?t.push({name:u.toString(),value:"undefined"}):t.push({name:u.toString(),value:[moment(u).format("YYYY-MM-DD HH:mm"),i]})}),u.push({name:r.key,data:t});return u}})})(jQuery),function(n){n.getStatus=function(n){var t,i,u,r;return 1==n?(t="正常",i="#00a65a",u="btn-success",r="glyphicon-ok-sign"):2==n?(t="信息",i="#5bc0de",u="btn-info",r="glyphicon-info-sign"):3==n?(t="警告",i="#f0ad4e",u="btn-warning",r="glyphicon-exclamation-sign"):4==n?(t="异常",i="#d9534f",u="btn-danger",r="glyphicon-remove-sign"):(t="--",i="#ccc",u="btn-default",r="glyphicon-question-sign"),{name:t,color:i,icon:r}};n.fn.statusBtn=function(t,i){var u=n.getStatus(t),r;return i||(i=u.name),r='<div class="form-inline" data-toggle="tooltip" data-placement="right" title="'+i+'">',r+='<i class="glyphicon '+u.icon+'" style="color:'+u.color+';" aria-hidden="true" ><\/i> ',r+=u.name,r+="<\/div>",this.append(r),this}}(jQuery);
